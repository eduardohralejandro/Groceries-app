{"ast":null,"code":"var _jsxFileName = \"/Users/eduardo/Desktop/newprojectGroceriesapp/Groceries-app/client/src/components/Recipes/Recipes.js\";\nimport React, { Fragment, Component } from \"react\";\nimport axios from \"axios\";\nimport Select from \"react-select\";\nimport styles from \"../Recipes/recipes.module.scss\";\n\nclass Recipes extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      foodRecipes: [],\n      itemSelected: null,\n      errorMessage: \"\",\n      newOptions: [],\n      loader: false,\n      tags: \"\"\n    };\n\n    this.handleSearchRecipe = itemSelected => {\n      const APP_ID = \"\".concat(process.env.REACT_APP_APP_ID);\n      const APP_KEY = \"\".concat(process.env.REACT_APP_APP_KEY);\n      const url = \"https://api.edamam.com/search?q=\".concat(itemSelected.value, \"&app_id=\").concat(APP_ID, \"&app_key=\").concat(APP_KEY);\n      this.setState({\n        loader: true\n      }, async () => {\n        await axios.get(url).then(data => {\n          this.setState({\n            loader: false,\n            foodRecipes: data.data.hits,\n            tags: itemSelected.value\n          });\n        }).catch(error => {\n          this.setState({\n            loader: false,\n            errorMessage: \"opss, something went wrong try again\"\n          });\n          console.error(error);\n        });\n      });\n    };\n  }\n\n  componentDidMount() {\n    const shoppingLists = this.props.shoppingLists;\n    shoppingLists.map(list => {\n      return list.items.map(item => {\n        const options = {\n          label: item.itemTitle,\n          value: item.itemTitle\n        };\n        this.setState(prevState => ({\n          newOptions: [...prevState.newOptions, options]\n        }));\n        return item;\n      });\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          itemSelected = _this$state.itemSelected,\n          tags = _this$state.tags,\n          loader = _this$state.loader,\n          foodRecipes = _this$state.foodRecipes,\n          newOptions = _this$state.newOptions,\n          error = _this$state.error;\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: styles.select,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(Select, {\n      className: styles.selector,\n      value: itemSelected,\n      onChange: this.handleSearchRecipe,\n      options: newOptions,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    })), tags.length > 0 ? React.createElement(\"button\", {\n      className: styles.tags,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, tags) : null, loader ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: styles.ring,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    })) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, foodRecipes.map((food, key) => {\n      const result = food.recipe.ingredientLines.join();\n      return React.createElement(\"div\", {\n        className: styles.recipeContainer,\n        key: key,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: styles.recipeImg,\n        alt: \"food-recipe\",\n        src: food.recipe.image,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: styles.texts,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, food.recipe.label), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, result)));\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, error));\n  }\n\n}\n\nexport default Recipes;","map":{"version":3,"sources":["/Users/eduardo/Desktop/newprojectGroceriesapp/Groceries-app/client/src/components/Recipes/Recipes.js"],"names":["React","Fragment","Component","axios","Select","styles","Recipes","state","foodRecipes","itemSelected","errorMessage","newOptions","loader","tags","handleSearchRecipe","APP_ID","process","env","REACT_APP_APP_ID","APP_KEY","REACT_APP_APP_KEY","url","value","setState","get","then","data","hits","catch","error","console","componentDidMount","shoppingLists","props","map","list","items","item","options","label","itemTitle","prevState","render","select","selector","length","ring","food","key","result","recipe","ingredientLines","join","recipeContainer","recipeImg","image","texts"],"mappings":"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","sourcesContent":["import React, { Fragment, Component } from \"react\";\nimport axios from \"axios\";\nimport Select from \"react-select\";\n\nimport styles from \"../Recipes/recipes.module.scss\";\nclass Recipes extends Component {\n  state = {\n    foodRecipes: [],\n    itemSelected: null,\n    errorMessage: \"\",\n    newOptions: [],\n    loader: false,\n    tags: \"\"\n  };\n  componentDidMount() {\n    const { shoppingLists } = this.props;\n\n    shoppingLists.map(list => {\n      return list.items.map(item => {\n        const options = { label: item.itemTitle, value: item.itemTitle };\n        this.setState(prevState => ({\n          newOptions: [...prevState.newOptions, options]\n        }));\n        return item;\n      });\n    });\n  }\n\n  handleSearchRecipe = itemSelected => {\n    const APP_ID = `${process.env.REACT_APP_APP_ID}`;\n    const APP_KEY = `${process.env.REACT_APP_APP_KEY}`;\n\n    const url = `https://api.edamam.com/search?q=${itemSelected.value}&app_id=${APP_ID}&app_key=${APP_KEY}`;\n\n    this.setState({ loader: true }, async () => {\n      await axios\n        .get(url)\n        .then(data => {\n          this.setState({\n            loader: false,\n            foodRecipes: data.data.hits,\n            tags: itemSelected.value\n          });\n        })\n        .catch(error => {\n          this.setState({\n            loader: false,\n            errorMessage: \"opss, something went wrong try again\"\n          });\n          console.error(error);\n        });\n    });\n  };\n\n  render() {\n    const { itemSelected, tags, loader, foodRecipes, newOptions, error } = this.state;\n    return (\n      <Fragment>\n        <div className={styles.select}>\n          <Select className={styles.selector} value={itemSelected} onChange={this.handleSearchRecipe} options={newOptions} />\n        </div>\n        {tags.length > 0 ? <button className={styles.tags}>{tags}</button> : null}\n\n        {loader ? (\n          <div>\n            <div className={styles.ring}></div>\n          </div>\n        ) : (\n          <div>\n            {foodRecipes.map((food, key) => {\n              const result = food.recipe.ingredientLines.join();\n              return (\n                <div className={styles.recipeContainer} key={key}>\n                  <div>\n                    <img className={styles.recipeImg} alt='food-recipe' src={food.recipe.image} />\n                  </div>\n                  <div className={styles.texts}>\n                    <h2>{food.recipe.label}</h2>\n                    <div>{result}</div>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        )}\n        <p>{error}</p>\n      </Fragment>\n    );\n  }\n}\n\nexport default Recipes;"]},"metadata":{},"sourceType":"module"}